<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">


    <h:head>
        <title>LOL - Cadastro</title>
    </h:head>  
    <h:body>
        <h1>Cliente novo!</h1>
        <h2>Informe seus dados</h2>
        <h:form>
            <h:panelGrid columns="3">
                <p:outputLabel value="Nome:" /> 
                <p:inputText id="nome" value="#{cadCli.cliente.nome}"
                             required="true"
                             requiredMessage="Nome obrigatório!"/>
                <h:message for="nome" styleClass="red"/>

                <p:outputLabel value="Email:" /> 
                <p:inputText id="email" value="#{cadCli.cliente.email}"
                             required="true"
                             requiredMessage="Email obrigatório!"/>
                <h:message for="email" styleClass="red" />

                <p:outputLabel value="Senha:" /> 
                <h:inputSecret id="senha" value="#{cadCli.cliente.senha}"
                               required="true"
                               requiredMessage="Informe a senha!"/>
                <h:message for="senha" styleClass="red" />

                <p:outputLabel value="Confirme a senha:" /> 
                <h:inputSecret id="csenha"
                               required="true"
                               requiredMessage="Senha e confirmação não conferem!"/>
                <h:message for="csenha" styleClass="red" />

                <p:outputLabel value="CPF:" /> 
                <p:inputText id="cpf" value="#{cadCli.cliente.cpf}"
                             required="true"
                             requiredMessage="Informe o CPF"/>
                <h:message for="cpf" styleClass="red" />

                <p:outputLabel value="Telefone:" /> 
                <p:inputText id="tel" value="#{cadCli.cliente.telefone}"
                             required="true"
                             requiredMessage="Telefone obrigatório!"/>
                <h:message for="tel" styleClass="red" />

                <p:outputLabel value="Sexo:" /> 
                <p:selectOneRadio id="sexo" value="#{cadCli.cliente.sexo}" >
                    <f:selectItem itemLabel="Masculino" itemValue='M'/>
                    <f:selectItem itemLabel="Feminino" itemValue='F'/>
                </p:selectOneRadio>
                <h:message for="sexo" styleClass="red" />

                <p:outputLabel value="Endereço:" /> 
                <p:inputText id="end" value="#{cadCli.cliente.endereco}"
                             required="true"
                             requiredMessage="Informe seu endereço!"/>
                <h:message for="end" styleClass="red" />

                <p:outputLabel value="Estado:" /> 
                <h:selectOneMenu id="est" 
                                 value="#{cadCli.estSelect}"
                                 converter="estadoConverter">
                    <f:selectItems value="#{cadCli.estados}" 
                                   var="estado" 
                                   itemLabel="#{estado.descricao}" 
                                   itemValue="#{estado}"/>
                    <f:ajax event="change" execute="est" render="cid"
                            listener="#{cadCli.carregaCidade}"/>
                </h:selectOneMenu>
                <p:outputLabel/>

                <p:outputLabel value="Cidade:" /> 
                <h:selectOneMenu id="cid" 
                                 value="#{cadCli.cidSelect}"
                                 converter="cidadeConverter"> 
                    <f:selectItems value="#{cadCli.cidades}" 
                                   var="cidade" 
                                   itemLabel="#{cidade.nome}" 
                                   itemValue="#{cidade}"/>
                </h:selectOneMenu>

            </h:panelGrid>
            <h:commandButton action="#{cadCli.cadastrar}" value="Cadastrar"/>
        </h:form>
        <p:link value="Voltar" href="index.xhtml"/>
    </h:body>
</html>
